<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="govuk-form-group">
    <label class="govuk-label" for="requestId"> Request ID </label>
    <input
      formControlName="requestId"
      class="govuk-input govuk-input--width-20"
      id="requestId"
      name="requestId"
      type="text"
    />
  </div>
  <details class="govuk-details" [open]="isAdvancedSearch">
    <summary class="govuk-details__summary" (click)="$event.preventDefault(); toggleAdvancedSearch()">
      <span class="govuk-details__summary-text"> Advanced search </span>
    </summary>
    <div class="govuk-details__text">
      <div class="govuk-form-group">
        <label class="govuk-label" for="caseId"> Case ID </label>
        <input
          formControlName="caseId"
          class="govuk-input govuk-input--width-20"
          id="caseId"
          name="caseId"
          type="text"
        />
      </div>
      <div class="govuk-form-group">
        <label class="govuk-label" for="courthouse"> Courthouse </label>
        <input
          formControlName="courthouse"
          class="govuk-input govuk-input--width-20"
          id="courthouse"
          name="courthouse"
          type="text"
        />
      </div>
      <app-datepicker
        inputId="hearingDate"
        [control]="form.controls.hearingDate"
        name="hearingDate"
        label="Hearing date"
        (dateChange)="setInputValue($event, 'hearingDate')"
      />
      <div class="govuk-form-group">
        <label class="govuk-label" for="courthouse"> Owner </label>
        <input formControlName="owner" class="govuk-input govuk-input--width-20" id="owner" name="owner" type="text" />
      </div>
      <div class="govuk-form-group">
        <label class="govuk-label" for="requestedBy"> Requested by </label>
        <input
          formControlName="requestedBy"
          class="govuk-input govuk-input--width-20"
          id="requestedBy"
          name="requestedBy"
          type="text"
        />
      </div>
      <div class="govuk-form-group" formGroupName="requestedDate">
        <label class="govuk-label govuk-!-font-weight-bold" for="specific-date-radio"> Requested date </label>
        <div class="govuk-radios">
          <div class="govuk-radios__item">
            <input
              class="govuk-radios__input"
              id="specific-date-radio"
              type="radio"
              formControlName="type"
              aria-label="Specific date radio button"
              value="specific"
            />
            <label class="govuk-label govuk-radios__label" for="specific-date-radio"> Specific date </label>
          </div>
          @if (requestedDateTypeControl.value === 'specific') {
            <div class="govuk-form-group input-group-indent-1 govuk-details__text" id="specific-date">
              <app-datepicker
                inputId="specific"
                [control]="requestedDateSpecificControl"
                label="Enter a date"
                (dateChange)="setInputValue($event, 'requestedDate.specific')"
              />
            </div>
          }
          <div class="govuk-radios__item">
            <input
              class="govuk-radios__input"
              id="date-range-radio"
              type="radio"
              formControlName="type"
              aria-label="Date range radio button"
              value="range"
            />
            <label class="govuk-label govuk-radios__label" for="date-range-radio"> Date range </label>
          </div>
          @if (requestedDateTypeControl.value === 'range') {
            <div id="date-range-items">
              <div class="govuk-form-group input-group-indent-1 govuk-details__text" id="range-date-items">
                <app-datepicker
                  inputId="from"
                  [control]="form.controls.requestedDate.controls.from"
                  label="Date from"
                  (dateChange)="setInputValue($event, 'requestedDate.from')"
                />
              </div>

              <div class="govuk-form-group input-group-indent-1 govuk-details__text">
                <app-datepicker
                  inputId="to"
                  [control]="requestedDateToControl"
                  label="Date to"
                  (dateChange)="setInputValue($event, 'requestedDate.to')"
                />
              </div>
            </div>
          }
        </div>
      </div>
      <div class="govuk-form-group">
        <label class="govuk-label govuk-!-font-weight-bold" for="requestMethod"> Request method </label>
        <div class="govuk-radios">
          <div class="govuk-radios__item">
            <input
              class="govuk-radios__input"
              id="requestMethod"
              name="requestMethod"
              type="radio"
              value="all"
              formControlName="requestMethod"
            />
            <label class="govuk-label govuk-radios__label" for="requestMethod"> All request methods </label>
          </div>
          <div class="govuk-radios__item">
            <input
              class="govuk-radios__input"
              id="requestMethod"
              name="requestMethod"
              type="radio"
              value="automatic"
              formControlName="requestMethod"
            />
            <label class="govuk-label govuk-radios__label" for="requestMethod"> Automatic </label>
          </div>
          <div class="govuk-radios__item">
            <input
              class="govuk-radios__input"
              id="requestMethod"
              name="requestMethod"
              type="radio"
              value="manual"
              formControlName="requestMethod"
            />
            <label class="govuk-label govuk-radios__label" for="requestMethod"> Manual </label>
          </div>
        </div>
      </div>
    </div>
  </details>
  <div class="govuk-button-group">
    <button type="submit" class="govuk-button">Search</button>
  </div>
</form>
