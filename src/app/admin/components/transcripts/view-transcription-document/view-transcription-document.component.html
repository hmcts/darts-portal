<a href="javascript:void(0)" (click)="onBack()" class="govuk-back-link">Back</a>

@if (loading()) {
  <app-loading text="Loading transcription details..." />
}

@if (data$ | async; as vm) {
  @if (vm.transcription.document.isHidden) {
    <app-hidden-file-banner [transcription]="vm.transcription" />
  }

  <div class="heading-button-container">
    <app-govuk-heading caption="Transcript file">{{ transcriptionDocumentId }}</app-govuk-heading>
    <button
      class="govuk-button govuk-button--secondary"
      (click)="
        router.navigate(['admin/file', transcriptionDocumentId, 'hide-or-delete'], {
          state: { fileType: 'transcription_document' }
        })
      "
    >
      {{ vm.transcription.document.isHidden ? 'Unmark for deletion and unhide' : 'Hide or delete' }}
    </button>
  </div>

  @if (userService.isSuperUser() && !userService.isAdmin()) {
    <app-transcript-file-basic-detail [transcription]="vm.transcription" />
  } @else {
    <app-tabs>
      <div *tab="'Basic details'">
        <app-transcript-file-basic-detail [transcription]="vm.transcription" />
      </div>

      <div *tab="'Advanced details'">
        <app-transcript-file-advanced-detail [transcription]="vm.transcription" />
      </div>
    </app-tabs>
  }
}
