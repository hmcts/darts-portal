<div class="govuk-form-group" [class.govuk-form-group--error]="isInvalid || invalidExt">
  <label class="govuk-label" [for]="controlId()"> {{ label }} </label>
  <p class="govuk-hint">{{ fileSizeHint }}</p>
  <p class="govuk-hint">{{ fileTypeHint }}</p>

  @if (isInvalid || invalidExt) {
    <p [id]="controlErrorId()" class="govuk-error-message">
      <span class="govuk-visually-hidden">Error:</span>
      {{ invalidExt ? extErrorMessage : errorMessage }}
    </p>
  }

  <input
    #fileInput
    class="govuk-file-upload"
    [id]="controlId()"
    type="file"
    [attr.aria-describedby]="isInvalid ? controlErrorId : null"
    (change)="onFileChange($any($event.target).files, fileInput)"
    [accept]="allowedFileTypes"
  />
  @if (fileInput?.files?.length) {
    <a id="remove-button" class="govuk-link" (click)="$event.preventDefault(); onFileRemove(fileInput)">Remove</a>
  }
</div>
