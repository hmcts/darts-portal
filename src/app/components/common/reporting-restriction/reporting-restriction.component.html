<!-- For backwards compatibility, to be removed once multiple reporting restrictions are supported -->
@if (reportingRestriction) {
  <div class="moj-banner" role="region" aria-label="information">
    <svg
      aria-hidden="true"
      class="moj-banner__icon"
      fill="currentColor"
      focusable="false"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 25 25"
      height="25"
      width="25"
    >
      <path
        d="M13.7,18.5h-2.4v-2.4h2.4V18.5z M12.5,13.7c-0.7,0-1.2-0.5-1.2-1.2V7.7c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2v4.8
    C13.7,13.2,13.2,13.7,12.5,13.7z M12.5,0.5c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S19.1,0.5,12.5,0.5z"
      />
    </svg>
    <div class="moj-banner__message">
      <h2 class="govuk-heading-m">Restriction:&nbsp;</h2>
      <p class="govuk-body-m">{{ reportingRestriction }}</p>
    </div>
  </div>
}

@if (restrictions?.length) {
  <div class="govuk-notification-banner" role="region" aria-labelledby="govuk-notification-banner-title">
    <div class="govuk-notification-banner__header">
      <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">Important</h2>
    </div>
    <div class="govuk-notification-banner__content">
      <p class="govuk-notification-banner__heading">
        {{ heading ?? 'There are restrictions against this case' }}
      </p>
      <app-govuk-details openSummary="Hide restrictions" closedSummary="Show restrictions">
        <ul class="govuk-list">
          @for (restriction of restrictions; track $index) {
            @if (restriction.event_name === 'Restrictions lifted') {
              <li><strong>Restriction(s) lifted:</strong> {{ restriction.event_ts | date: 'dd MMM yyyy' }}</li>
            } @else {
              <li>
                <strong>Restriction applied:</strong> {{ restriction.event_name }}
                {{ restriction.event_name ? '- Applied' : '' }}
                {{ restriction.event_ts | date: 'dd MMM yyyy' }}
              </li>
            }
          }
        </ul>
        <ng-content />
      </app-govuk-details>
    </div>
  </div>
}
